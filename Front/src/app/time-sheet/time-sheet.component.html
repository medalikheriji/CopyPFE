  <app-aside-bar></app-aside-bar>
  <div>
    <div class="main-content full_container">
      <section class="section" style="margin-top: -2%">
        <div class="section-body full_container">
          <div class="row full_container">
            <div class="col-12 col-md-6 col-lg-12 full_container">
              <div class="card card-light full_container">
                <div class="card-body full_container">
                  <div>Liste des feuilles de temps</div>
                  <div class="line full_container"></div>
                  <br />
                  <h6 id="visualTS">
                    Visualiser l’ensemble de vos feuilles de temps…
                  </h6>
                  <br /><br />
                  <!-- voici la premiere section (firstGrayContent) -->
                  <div class="card-content1 d-flex full_container">
                    <div class="line2 full_container"></div>

                    <div class="full_container">
                      <h6 id="profileColl">Profil du collaborateur</h6>
                      <div class="d-flex full_container">
                        <img class="rounded-circle"
                          src="https://scontent.fnbe1-2.fna.fbcdn.net/v/t1.6435-1/168544401_2958299887773318_4276280712870318848_n.jpg?stp=cp0_dst-jpg_e15_q65_s240x240&_nc_cat=109&ccb=1-6&_nc_sid=dbb9e7&_nc_ohc=WLjv6xUaIwYAX8HdaGy&_nc_ht=scontent.fnbe1-2.fna&oh=00_AT8erMGqAaMohf667gWMPzhHrZIDpfJgE6h2YRZ94gftSQ&oe=629FC7E8"
                          alt="" />
                        <div class="col full_container">
                          <h5 id="nameCollab">Med Ali Kheriji</h5>
                          <h6 id="roleCollab">Directeur de mission</h6>
                        </div>
                        <div class="col-lg-0 full_container">
                          <h6 id="parDefaut">Par défaut</h6>
                        </div>
                        <div class="dropCollab col-lg-0 full_container">
                          <span class="p-input-icon-left">
                            <i class="pi pi-users"></i>
                            <select id="collabSelect">
                              &nbsp;&nbsp;
                              <option selected hidden>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <h6 id="nomCol">Changer de collaborateur</h6>
                              </option>
                              &nbsp;&nbsp;
                              <option value="name">
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <h6 id="nomCol">Med Ali Kheriji</h6>
                              </option>
                              &nbsp;&nbsp;
                              <option value="name">
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <h6 id="nomCol">Karim Mehwechi</h6>
                              </option>
                            </select>
                          </span>
                        </div>
                        <div class="btn-ajoutFeuille full_container">
                          <button type="button" routerLink="/time2"  class="btn btn-primary btn-sm">
                            Ajouter une feuille
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="full_container">
                    <br />
                  </div>

                  <!-- voici la duxiéme section (secondGrayContent) -->
                  <div class="card-content2 mb-3 full_container">
                    <div class="input-group d-flex full_container" id="input-group-1">
                      <div class="input-group-prepend full_container">
                        <span class="input-group-text" id="basic-addon1" style="height: 30px; width: 45px">
                          <i class="pi pi-search"></i>
                        </span>
                        <input type="text" class="form-control" id="form-control" style="height: 30px; width: 220px"
                          placeholder="Rechercher" aria-label="Rechercher" aria-describedby="basic-addon1" />
                      </div>
                      <div class="btn-filtre ms-3 full_container">
                        <button type="button" class="btn btn-primary btn-sm" (click)="show()">
                          Filtres
                        </button>
                      </div>
                      <!-- les boutons radios  -->
                      <div class="d-flex align-items-center full_container">
                        <div class="form-group full_container" style="margin-left: 175px">
                          <input type="radio" value="brouillon" name="filtre" />
                          <button type="button" id="btn-filtre" class="btn btn-sm ms-2" style="
                              background-color: transparent;
                              color: grey;
                              border-color: lightgray;
                              width: 140px;
                            ">
                            Brouillon
                          </button>
                        </div>

                        <div class="form-group full_container" style="margin-left: 160px">
                          <input type="radio" value="envoyer" name="filtre" />
                          <button type="button" id="btn-filtre" class="btn btn-sm ms-2" style="
                              background-color: transparent;
                              color: grey;
                              border-color: lightgray;
                              width: 140px;
                            ">
                            Envoyer
                          </button>
                        </div>

                        <div class="form-group full_container" style="margin-left: 160px">
                          <input type="radio" value="amender" name="filtre" />
                          <button type="button" id="btn-filtre" class="btn btn-sm ms-2" style="
                              background-color: transparent;
                              color: grey;
                              border-color: lightgray;
                              width: 140px;
                            ">
                            A amender
                          </button>
                        </div>
                      </div>
                    </div>

                    <div class="filtres_buttons mb-3 d-flex full_container" *ngIf="aff && !hide">
                      <button type="button" class="border" id="button_periode">
                        Périodes
                      </button>
                      <button type="button" class="border" id="button_facturable">
                        Facturable/Non facturable
                      </button>
                      <button type="button" class="border" id="button_statut">
                        Statut feuille
                      </button>
                      <button type="button" class="border" id="button_heures">
                        Types heures
                      </button>
                      <button type="button" class="border" id="button_sites">
                        Sites
                      </button>
                    </div>
                  </div>

                  <div class="card-content3 full_container">
                    <div class="d-flex full_container">
                      <div class="btn-modif full_container">
                        <button type="button" class="btn btn-primary btn-sm mt-3 m-1 ms-3" id="btn-modif">
                          Modifier
                        </button>
                      </div>
                      <div class="btn-supp full_container">
                        <button type="button" class="btn btn-sm mt-3 m-1 ms-3" (click)="delete()">
                          Supprimer
                        </button>
                      </div>
                      <div class="btn-envoy full_container">
                        <button type="button" class="btn btn-primary btn-sm mt-3 m-1 ms-3" (click)="change()">
                          Envoyé
                        </button>
                      </div>
                      <div class="btn-impr full_container">
                        <button type="button" class="btn btn-sm mt-3 m-1 ms-3">
                          Imprimer
                        </button>
                      </div>
                    </div>

                    <div class="selector_body">
                      <form #myForm="ngForm">
                      <div class="selector_item align-items-center d-flex">

                        <label  class="selector_label" style="background-color: lightgray">
                          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">

                            <div class="d-flex justify-content-around" id="label_att">
                              <p class="ms-5 me-5 w-25"><i class="fas fa-search me-2" style="visibility: hidden;"></i>Période du …………. Au ………….</p>
                              <p class="w-50">Référence feuille</p>
                              <p class="w-25">Statut</p>
                              <p class="w-25">Date d’envoi</p>
                              <p class="w-25">Date d’approbation</p>
                              <p class="w-25">Crée Par</p>
                              <p class="w-25">Matricule</p>
                            </div>

                        </label>
                      </div>
                      <div class="selector_item" *ngFor="let e of timesheet ; index as i" style="margin-top: -5px;">
                        <label class="selector_label">
                          <input class="form-check-input" type="radio" [name]="i + 1" id="flexRadioDefault2" (change)="add(e)">
                          <div class="d-flex justify-content-around" id="label_att">


                              <p class="w-25 ms-5 me-5"><i class="fas fa-search me-2"></i>Du {{e.date_deb | date:'shortDate'}} Au {{e.date_fin | date:'shortDate'}}</p>

                            <p class="w-50" >{{e._id}}</p>
                            <p class="w-25" >{{e.Statut}}</p>
                            <p class="w-25" >{{e.date_envoi | date:'shortDate'}}</p>
                            <p class="w-25" >{{e.date_approb | date:'shortDate'}}</p>
                            <p class="w-25">{{e.ajouter_par}}</p>
                            <p class="w-25">{{e.matricule}}</p>
                          </div>
                        </label>
                      </div>
                    </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="card-body p-4 mb-4" style="border-radius: 20px; border-top-left-radius: 30%">
          <!-- BEGIN : MODEL TEMPLATE ( Expenses )-->



          <ng-template #content let-modal>
            <div class="modal-header">
              <div class="form-group" style="margin-bottom: 0%">
                <label class="modal-title" style="font-size: 16px"><i class="fa fa-clock-o"
                    aria-hidden="true"></i>&nbsp;&nbsp;
                  Ajouter une nouvelle feuille du temps</label>
              </div>
              <button type="button" class="btn-close" aria-label="Close"
                (click)="modal.dismiss('Cross click')"></button>
            </div>
            <!--<form>
            <div class="modal-body">
              <form #timeform="ngForm">
                <div class="input-group">
                  <label for="">date_deb</label>
                  <input type="text" class="form-control ms-3" placeholder="Normal" name="date_deb" ngModel #date_deb="ngModel"
                  required />
                </div>
                <div class="input-group">
                  <label for="">date_fin</label>
                  <input type="text" class="form-control ms-3" placeholder="Facturable" name="date_fin" ngModel #date_fin="ngModel"
                  required/>
                </div>
                <div class="input-group">
                  <label for="">ajouter_par</label>
                  <textarea class="form-control ms-3" placeholder="Commentaire….." name="ajouter_par" ngModel #ajouter_par="ngModel"
                  required></textarea>
                </div>
                <div class="input-group">

                  <label for="">Activité</label>
                  <input type="text" class="form-control ms-3" placeholder="Planification" />
                </div>
                <div class="input-group">
                  <label for="">Description </label>
                  <textarea class="form-control ms-3" placeholder="Commentaire….."></textarea>
                </div>
                <div class="input-group">
                  <label for="">Site</label>
                  <input type="text" class="form-control ms-3" placeholder="Tunisie – TN (Par défaut)
                        " />
                </div>
              </form>-->
              <form >
              <div class="modal-body" style="margin-bottom:0%;" >
                  <!--*****************************************************************************-->
                  <div class="form-row">
                    <div class="form-group col-md-12">
                        <!--Types d’heures-->
                        <label>Types d’heures</label>
                        <select id="inputCategorie" class="custom-select form-control-sm" formControlName="hoursNatureTimesheet">
                            <option value="élevé">Élevé</option>
                            <option value="normale">Normale</option>
                            <option value="faible">Faible</option>
                        </select>
                        <div class="invalid-feedback">Indication du types d’heures est obligatoire </div>
                     </div>
                  </div>
                  <!--********************************************************************************-->
                  <div class="form-row">
                    <div class="form-group col-md-12">
                        <!--Nature du projet-->
                        <label>Nature du projet</label>
                        <select id="inputCategorie" class="custom-select form-control-sm" formControlName="natureOfProjectTimesheet">
                            <option value="Facturable">Facturable</option>
                            <option value="Non facturable">Non facturable</option>
                            <option value="Interne">Interne</option>
                        </select>
                        <div class="invalid-feedback">Indication du nature du projet est obligatoire </div>
                     </div>
                  </div>
                  <!--*************************************************************************************-->
                  <div class="form-row">
                      <div class="form-group col-md-12">
                        <label>Nom du projet</label>
                        <input type="text" class="form-control" id="inputTitre" formControlName="projectNameTimesheet">
                        <div class="invalid-feedback">Nom du projet est obligatoire </div>
                      </div>
                  </div>
                  <!--*************************************************************************************-->
                  <div class="form-row">
                    <div class="form-group col-md-12">
                        <!--Activité-->
                        <label>Activité</label>
                        <select id="inputCategorie" class="custom-select form-control-sm" formControlName="taskTimesheet">
                            <option value="Activité n°1">Activité n°1</option>
                            <option value="Activité n°2">Activité n°2</option>
                            <option value="Activité n°3">Activité n°3</option>
                        </select>
                        <div class="invalid-feedback">Indication d'activité est obligatoire </div>
                     </div>
                  </div>
                  <!--*************************************************************************************-->
                  <div class="form-row">
                    <div class="form-group col-md-12">
                      <!--Commentaire -->
                      <label>Commentaire</label>
                      <textarea id="descProjet" class="form-control" name="descProjet"rows="1" cols="13" formControlName="commentTimesheet"></textarea>
                    </div>
                  </div>
                  <!--*************************************************************************************-->
                  <div class="form-row">
                      <div class="form-group col-md-12">
                         <!--Site -->
                        <label>Site</label>
                        <input type="text" class="form-control" id="inputTitre" formControlName="siteTimesheet">
                        <div class="invalid-feedback">Indication du site est obligatoire </div>
                      </div>
                  </div>
                  <!--*************************************************************************************-->
                </div>

              <div class="modal-footer d-flex justify-content-center">
                <button class="btn btn-light" type="submit" >
                    <label for="">matricule</label>
                    <input type="text" class="form-control ms-3" placeholder="Tunisie – TN (Par défaut)"
                    name="matricule" ngModel #matricule="ngModel"
                          required />
                </button>
              </div>

            <div class="modal-footer d-flex justify-content-center">
              <button class="btn btn-light" type="reset" style="
                  border: none;
                  border-radius: 8px;
                  font-size: 12px;
                  width: 120px;
                  height: 30px;
                  color: rgb(109, 109, 109);
                " (click)="modal.close('Close click')" (click)="goto()">
                <i class="fas fa-save"></i>&nbsp;&nbsp;Enregister
              </button>
              <button type="submit" class="btn btn-primary" style="
                  border: none;
                  border-radius: 8px;
                  background-color: #2a73e8;
                  width: 200px;
                  height: 30px;
                  font-size: 12px;" (click)="modal.close('Close click')">
                <i class="fas fa-solid fa-paper-plane"></i>&nbsp;&nbsp;
                Enregistrer et Suivant
              </button>
              <button type="reset" class="btn btn-light" style="
                  border: none;
                  border-radius: 8px;
                  font-size: 12px;
                  width: 100px;
                  height: 30px;
                  color: rgb(109, 109, 109);
                " (click)="modal.close('Close click')">
                <i class="fa fa-times"></i>&nbsp;&nbsp; Annuler
              </button>
            </div>
          </form>
          </ng-template>
        </div>
      </section>
    </div>
  </div>

