<app-aside-bar></app-aside-bar>

<body>
    <div class="loader"></div>
    <div id="app">
        <div class="main-content">
            <section class="section" style="margin-top:-2%;">
                <div class="section-body">
                    <div class="row">
                        <div class="col-12 col-md-6 col-lg-12">
                            <div class="card card-light">
                                <div class="card-header" style="margin-bottom:-2%;margin-top:2%">
                                    <h4><label class="modal-title" style="margin-left:15%;width:100%;"> Liste des
                                            frais</label></h4>

                                    <!--
                                <div class="form-group" style="width:20%;position:absolute;right:225px;">
                                    <div class="input-group mb-2" >
                                     
                                        &nbsp;<div class="input-group-text" style="border-radius: 45% 0% 0% 45%; height:31px;background-color:transparent;"><i class="fa-solid fa-magnifying-glass" style="color:#48dbfb;"></i></div>
                                     
                                      <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="Username">
                                    </div>
                                </div>
                                -->
                                    <button class="btn btn-outline-info mb-2 me-2"
                                        style="position:absolute;right:320px;font-size:14px;"
                                        (click)="openSm(content)"><i class="fa-solid fa-plus"></i>&nbsp;Ajouter frais
                                        kilométriques </button>
                                    <!---->
                                    <button class="btn btn-outline-info mb-2 me-2"
                                        style="position:absolute;right:560px;font-size:14px;"
                                        (click)="openSm(content1)"><i class="fa-solid fa-plus"></i>&nbsp;Ajouter une
                                        dépenses </button>
                                    <!---->
                                    <input type="search" class="form-control mb-2 me-2" name="categorie"
                                        placeholder="Rechercher" style="width:20%;position:absolute;right:32px;"
                                        autocomplete="off" (keyup)="filterData($event)" />
                                </div>
                                <!-- BEGIN : MODAL - ADD PROJECT -->
                                <ng-template #content let-modal>
                                    <form [formGroup]="fraisForm" (ngSubmit)="addFrais()">
                                        <div class="modal-header">
                                            <div class="form-group col-md-9" style="margin-bottom:0%;">
                                                <label class="modal-title" style="font-size: 16px;">Ajouter frais
                                                    kilométriques</label>
                                            </div>
                                            <button type="button" class="btn-close" aria-label="Close"
                                                (click)="modal.dismiss('Cross click')"></button>
                                        </div>

                                        <!--////////////////////////////////////////////////////////////-->
                                        <div class="row">
                                            <!--First Card -->
                                            <div class="col-4 col-md-6 col-lg-6">
                                                <div class="card shadow-none border-0" id="card1"
                                                    style="margin-left:3px;">

                                                    <div class="card-body" style="margin-top:0%;">
                                                        <div class="form-row">
                                                            <!---->
                                                            <div class="pretty p-switch p-fill"
                                                                style="position: absolute; right: 20px; font-size:80%">
                                                                <input type="checkbox" formControlName="isRefundable"
                                                                    [ngClass]=" 
                                                          (fraisForm.get('isRefundable')?.touched ||
                                                          fraisForm.get('isRefundable')?.dirty) &&
                                                          fraisForm.get('isRefundable')?.hasError('required')
                                                          ? 'is-invalid'
                                                          : '' ||
                                                          ((fraisForm.get('isRefundable')?.touched ||
                                                          fraisForm.get('isRefundable')?.dirty) &&
                                                          !fraisForm.get('isRefundable')?.invalid)
                                                          ? 'is-valid'
                                                          : ''
                                                          " />
                                                                <div class="state p-info">
                                                                    <label>Facturable au client</label>
                                                                </div>
                                                            </div>
                                                            <!---->
                                                            <div class="pretty p-switch p-fill"
                                                                style="position: absolute; right: 220px; font-size:80%">
                                                                <input type="checkbox" formControlName="isBillable"
                                                                    [ngClass]=" 
                                                          (fraisForm.get('isBillable')?.touched ||
                                                          fraisForm.get('isBillable')?.dirty) &&
                                                          fraisForm.get('isBillable')?.hasError('required')
                                                          ? 'is-invalid'
                                                          : '' ||
                                                          ((fraisForm.get('isBillable')?.touched ||
                                                          fraisForm.get('isBillable')?.dirty) &&
                                                          !fraisForm.get('isBillable')?.invalid)
                                                          ? 'is-valid'
                                                          : ''
                                                          " />
                                                                <div class="state p-info">
                                                                    <label>Remoursable au client</label>
                                                                </div>
                                                            </div>
                                                            <br>
                                                            <!---->
                                                            <h1>{{ distance }}</h1>
                                                            <div class="form-group col-md-12">
                                                                <label style=" margin-top:2%;">Titre</label>
                                                                <input type="text" class="form-control form-control-sm "
                                                                    id="inputTitre" placeholder="Titre"
                                                                    formControlName="nameOfFrais" [ngClass]=" 
                                                              (fraisForm.get('nameOfFrais')?.touched ||
                                                              fraisForm.get('nameOfFrais')?.dirty) &&
                                                              fraisForm.get('nameOfFrais')?.hasError('required')
                                                              ? 'is-invalid'
                                                              : '' ||
                                                              ((fraisForm.get('nameOfFrais')?.touched ||
                                                              fraisForm.get('nameOfFrais')?.dirty) &&
                                                              !fraisForm.get('nameOfFrais')?.invalid)
                                                              ? 'is-valid'
                                                              : ''
                                                              ">
                                                                <div class="invalid-feedback">L'indication du
                                                                    titre est obligatoire </div>
                                                            </div>
                                                        </div>
                                                        <!-- BEGIN : Depart / Arrivée -->
                                                        <!-- <div class="form-row">
                                                      <!--BEGIN : Départ

                                                      <div class="form-group col-md-6">
                                                          <label style="font-size:14px;">Départ</label>
                                                          <input type="text" class="form-control " id=""
                                                              placeholder="De">
                                                      </div>
                                                      <!-- END : Départ -->
                                                        <!-- BEGIN : Arrivée 
                                                      <div class="form-group col-md-6">
                                                          <label style="font-size:14px;">Arrivée</label>
                                                          <input type="text" class="form-control" id=""
                                                              placeholder="À">
                                                      </div>
                                                      <!-- END : Arrivée 
                                                  </div>
                                                  -->
                                                        <!-- END : Depart / Arrivée -->
                                                        <!-- BEGIN : Trajet -->
                                                        <div class="form-row" style=" margin-top:-3%;">
                                                            <div class="form-group col-md-12">
                                                                <label>Type du frais</label>

                                                                <input type="text" class="form-control "
                                                                    formControlName="typeOfFrais" [ngClass]=" 
                                                                  (fraisForm.get('typeOfFrais')?.touched ||
                                                                  fraisForm.get('typeOfFrais')?.dirty) &&
                                                                  fraisForm.get('typeOfFrais')?.hasError('required')
                                                                  ? 'is-invalid'
                                                                  : '' ||
                                                                  ((fraisForm.get('typeOfFrais')?.touched ||
                                                                  fraisForm.get('typeOfFrais')?.dirty) &&
                                                                  !fraisForm.get('typeOfFrais')?.invalid)
                                                                  ? 'is-valid'
                                                                  : ''
                                                                  ">

                                                                <div class="invalid-feedback">L'indication du
                                                                    type est obligatoire </div>
                                                            </div>
                                                        </div>

                                                        <div class="form-row" style=" margin-top:-3%;">
                                                            <div class="form-group col-md-12">
                                                                <label>Tarification</label>
                                                                <div class="input-group">
                                                                    <input type="number"
                                                                        class="form-control form-control-sm "
                                                                        placeholder="3.750 DT" min="1"
                                                                        formControlName="calcUnitOfFrais" [ngClass]=" 
                                                                  (fraisForm.get('calcUnitOfFrais')?.touched ||
                                                                  fraisForm.get('calcUnitOfFrais')?.dirty) &&
                                                                  fraisForm.get('calcUnitOfFrais')?.hasError('required')
                                                                  ? 'is-invalid'
                                                                  : '' ||
                                                                  ((fraisForm.get('calcUnitOfFrais')?.touched ||
                                                                  fraisForm.get('calcUnitOfFrais')?.dirty) &&
                                                                  !fraisForm.get('calcUnitOfFrais')?.invalid)
                                                                  ? 'is-valid'
                                                                  : ''
                                                                  ">
                                                                    <div class="invalid-feedback">L'indication d'unité
                                                                        de calcul est obligatoire </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <!--END : Tarif -->

                                                        <!-- ************************************  -->

                                                        <!--BEGIN : Valeur a rembourser -->
                                                        <div class="form-row" style=" margin-top:-3%;">
                                                            <div class="form-group col-md-6" style="margin-top:2%;">
                                                                <!--<div class="badge badge-warning"
                                                          style="position: absolute; right: 20px;">Verfié</div>
                                                          <br>-->
                                                                <label>Quantité</label>
                                                                <div class="input-group">
                                                                    <input type="text" class="form-control"
                                                                        type="number" formControlName="quantityOfFrais"
                                                                        [ngClass]=" 
                                                              (fraisForm.get('quantityOfFrais')?.touched ||
                                                              fraisForm.get('quantityOfFrais')?.dirty) &&
                                                              fraisForm.get('quantityOfFrais')?.hasError('required')
                                                              ? 'is-invalid'
                                                              : '' ||
                                                              ((fraisForm.get('quantityOfFrais')?.touched ||
                                                              fraisForm.get('quantityOfFrais')?.dirty) &&
                                                              !fraisForm.get('quantityOfFrais')?.invalid)
                                                              ? 'is-valid'
                                                              : ''
                                                              ">

                                                                    <div class="invalid-feedback">L'indication du
                                                                        quantité est obligatoire </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group col-md-6" style="margin-top:2%;">
                                                                <label>Prix unitaire</label>
                                                                <div class="input-group">
                                                                    <input class="form-control " type="number"
                                                                        id="inputGroupSelect"
                                                                        formControlName="unitPriceOfFrais" [ngClass]=" 
                                                                  (fraisForm.get('unitPriceOfFrais')?.touched ||
                                                                  fraisForm.get('unitPriceOfFrais')?.dirty) &&
                                                                  fraisForm.get('unitPriceOfFrais')?.hasError('required')
                                                                  ? 'is-invalid'
                                                                  : '' ||
                                                                  ((fraisForm.get('unitPriceOfFrais')?.touched ||
                                                                  fraisForm.get('unitPriceOfFrais')?.dirty) &&
                                                                  !fraisForm.get('unitPriceOfFrais')?.invalid)
                                                                  ? 'is-valid'
                                                                  : ''
                                                                  ">
                                                                    <div class="input-group-prepend">
                                                                        <div class="input-group-text">
                                                                            DT
                                                                        </div>
                                                                    </div>
                                                                    <div class="invalid-feedback">L'indication du
                                                                        prix unitaire est obligatoire </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!--END : Valeur a rembourser-->
                                                        <!--BEGIN : Date-->
                                                        <div class="form-row" style=" margin-top:-3%;">
                                                            <div class="form-group col-md-12">
                                                                <label>Période</label>
                                                                <div class="input-group ">
                                                                    <input type="date"
                                                                        class="form-control form-control-sm"
                                                                        formControlName="dateOfFrais"
                                                                        max="{{today | date:'yyyy-MM-dd'}}" [ngClass]=" 
                                                                  (fraisForm.get('dateOfFrais')?.touched ||
                                                                  fraisForm.get('dateOfFrais')?.dirty) &&
                                                                  fraisForm.get('dateOfFrais')?.hasError('required')
                                                                  ? 'is-invalid'
                                                                  : '' ||
                                                                  ((fraisForm.get('dateOfFrais')?.touched ||
                                                                  fraisForm.get('dateOfFrais')?.dirty) &&
                                                                  !fraisForm.get('dateOfFrais')?.invalid)
                                                                  ? 'is-valid'
                                                                  : ''
                                                                  ">
                                                                    <div class="invalid-feedback">L'indication du
                                                                        date est obligatoire </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!--END : Date -->
                                                        <!--Moyen de paiement
                                                          <div class="form-group"  style="margin-bottom: -1%;">
                                                              <label style="margin-top:20px;">  Sélectionnez l'état du note
                                                              </label>
                                                              <select class="custom-select form-control-sm" formControlName="etatDepense" 
                                                              [ngClass]="
                                                              (myFormDepense.get('etatDepense').touched ||
                                                              myFormDepense.get('etatDepense').dirty) &&
                                                              myFormDepense.get('etatDepense').hasError('required')
                                                              ? 'is-invalid'
                                                              : '' ||
                                                                  ((myFormDepense.get('etatDepense').touched ||
                                                                  myFormDepense.get('etatDepense').dirty) &&
                                                                  !myFormDepense.get('etatDepense').invalid)
                                                              ? 'is-valid'
                                                              : ''
                                                              ">
                                                                  <option selected value="0">Zero</option>
                                                                  <option value="1">One</option>
                                                                  <option value="2">Two</option>
                                                                  <option value="3">Three</option>
                                                              </select>
                                                              <div class="invalid-feedback">État de depense est
                                                                  obligatoire
                                                              </div>
                                                          </div>
                                                          -->
                                                        <!--BEGIN : Note frais-->
                                                        <div class="form-row" style=" margin-top:-3%;">
                                                            <div class="form-group col-md-12">
                                                                <label> categoryOfFrais </label>
                                                                <select class="custom-select form-control-sm"
                                                                    formControlName="categoryOfFrais" [ngClass]=" 
                                                          (fraisForm.get('categoryOfFrais')?.touched ||
                                                          fraisForm.get('categoryOfFrais')?.dirty) &&
                                                          fraisForm.get('categoryOfFrais')?.hasError('required')
                                                          ? 'is-invalid'
                                                          : '' ||
                                                          ((fraisForm.get('categoryOfFrais')?.touched ||
                                                          fraisForm.get('categoryOfFrais')?.dirty) &&
                                                          !fraisForm.get('categoryOfFrais')?.invalid)
                                                          ? 'is-valid'
                                                          : ''
                                                          ">
                                                                    <option *ngFor="let cat of categories"
                                                                        [value]="cat">{{cat}}</option>
                                                                </select>

                                                                <div class="invalid-feedback"> Catégorie du frais est
                                                                    obligatoire </div>
                                                            </div>
                                                        </div>
                                                        <!-- END : Note frais -->

                                                        <!--BEGIN : Commenataire-->
                                                        <div class="form-row"
                                                            style=" margin-top:-3%;margin-bottom:-5%;">
                                                            <div class="form-group col-md-12">
                                                                <label>Description </label>
                                                                <textarea class="form-control form-control-sm"
                                                                    placeholder="Description"
                                                                    formControlName=" descOfFrais" [ngClass]=" 
                                                          (fraisForm.get('descOfFrais')?.touched ||
                                                          fraisForm.get('descOfFrais')?.dirty) &&
                                                          fraisForm.get('descOfFrais')?.hasError('required')
                                                          ? 'is-invalid'
                                                          : '' ||
                                                          ((fraisForm.get('descOfFrais')?.touched ||
                                                          fraisForm.get('descOfFrais')?.dirty) &&
                                                          !fraisForm.get('descOfFrais')?.invalid)
                                                          ? 'is-valid'
                                                          : ''
                                                          "></textarea>
                                                            </div>
                                                            <div class="invalid-feedback"> Description du frais est
                                                                obligatoire </div>
                                                        </div>
                                                        <!--END : Commenataire-->
                                                    </div>
                                                </div>
                                            </div>
                                            <!--END : First Card -->
                                            <!--BEGIN : Second Card -->
                                            <div class="col-4 col-md-6 col-lg-6">
                                                <div class="card shadow-none border-0" id="card2"
                                                    style="height:100%;margin-left:-8%;margin-bottom:-10%;">
                                                    <div class="card-body" style="margin-top:0%;">
                                                        <app-second-modal></app-second-modal>
                                                        <!--<button (click)="printDistance()">Distance</button>-->
                                                    </div>
                                                </div>
                                                <!---->
                                                <div style="max-height: 100%; "></div>
                                                <!---->
                                            </div>
                                            <!--END : Second Card -->
                                            <!--BEGIN : Third Card 
                                      <div class="col-4 col-md-6 col-lg-4">
                                          <div class="card shadow-none border-0" id="card3"
                                              style="margin-right:5px;">

                                              <div class="card-body" style="margin-top:0%;">
                                                  
                                              </div>
                                          </div>
                                      </div>
                                      END : Third Card -->
                                            <!--<div id="div2" >
                                      <Pays
                                      <label></label>
                                      <select id="inputPays" class="form-control form-control-sm">
                                          <option selected hidden > -- Sélectionnez le pays -- </option>
                                          <option>Option 1</option>
                                          <option>Option 2</option>
                                          <option>Option 3</option>
                                      </select>
                                      Note frais
                                      <label></label>
                                      <div class="input-group">
                                          <input type="text" class="form-control" placeholder="Note de frais" aria-label="">
                                          <div class="input-group-append">
                                          <button class="btn btn-light" type="submit"><i class="fa-solid fa-circle-plus" style="color:#7C83FD;"></i></button>
                                          </div>
                                      </div>
                                  </div>
                                  <div id="div3" >ITEM 3</div>
                                  <!-->
                                        </div>
                                        <!--////////////////////////////////////////////////////////////-->
                                        <!--<div class="modal-footer" >
                                      <button type="button" class="btn btn-light"
                                          (click)="modal.close('Close click')">Close</button>
                                      <button type="button" class="btn btn-info"
                                          (click)="modal.close('Close click')">Sauvegarder</button>
                                  </div>-->
                                        <div class="modal-footer d-flex justify-content-center">
                                            <button type="button" class="btn btn-light" style="
                                                border: none;
                                                border-radius: 8px;
                                                font-size: 12px;
                                                width: 100px;
                                                height: 30px;
                                                color: rgb(109, 109, 109);
                                            " (click)="modal.close('Close click')">
                                                <i class="fa fa-times"></i>&nbsp;&nbsp; Annuler
                                            </button>
                                            <button type="submit" class="btn btn-primary" style="
                                                border: none;
                                                border-radius: 8px;
                                                background-color: #2a73e8;
                                                width: 200px;
                                                height: 30px;
                                                font-size: 12px;" (click)="modal.close('Close click')
                                                " [disabled]="fraisForm.invalid">
                                                <i class="fas fa-solid fa-paper-plane"></i>&nbsp;&nbsp;
                                                Enregistrer et Suivant
                                            </button>
                                        </div>
                                    </form>
                                </ng-template>
                                <!---->

                                <!-- END : MODAL - ADD PROJECT -->
                                <!-- //////////////////////////////// BEGIN : MODAL OF PROJECT ///////////////////////////////////-->
                                <ng-template #content1 let-modal>
                                    <form [formGroup]="fraisForm" (ngSubmit)="addFrais()">
                                        <div class="modal-header">
                                            <div class="form-group col-md-9" style="margin-bottom:0%;">
                                                <label class="modal-title" style="font-size: 16px;">Ajouter une dépense
                                                </label>
                                            </div>
                                            <button type="button" class="btn-close" aria-label="Close"
                                                (click)="modal.dismiss('Cross click')"></button>
                                        </div>

                                        <!--////////////////////////////////////////////////////////////-->
                                        <div class="row">
                                            <!--First Card -->
                                            <div class="col-4 col-md-6 col-lg-6">
                                                <div class="card shadow-none border-0" id="card1"
                                                    style="margin-left:3px;">

                                                    <div class="card-body" style="margin-top:0%;">
                                                        <div class="form-row">
                                                            <!---->
                                                            <div class="pretty p-switch p-fill"
                                                                style="position: absolute; right: 20px; font-size:80%">
                                                                <input type="checkbox" formControlName="isRefundable"
                                                                    [ngClass]=" 
                                                          (fraisForm.get('isRefundable')?.touched ||
                                                          fraisForm.get('isRefundable')?.dirty) &&
                                                          fraisForm.get('isRefundable')?.hasError('required')
                                                          ? 'is-invalid'
                                                          : '' ||
                                                          ((fraisForm.get('isRefundable')?.touched ||
                                                          fraisForm.get('isRefundable')?.dirty) &&
                                                          !fraisForm.get('isRefundable')?.invalid)
                                                          ? 'is-valid'
                                                          : ''
                                                          " />
                                                                <div class="state p-info">
                                                                    <label>Facturable au client</label>
                                                                </div>
                                                            </div>
                                                            <!---->
                                                            <div class="pretty p-switch p-fill"
                                                                style="position: absolute; right: 220px; font-size:80%">
                                                                <input type="checkbox" formControlName="isBillable"
                                                                    [ngClass]=" 
                                                          (fraisForm.get('isBillable')?.touched ||
                                                          fraisForm.get('isBillable')?.dirty) &&
                                                          fraisForm.get('isBillable')?.hasError('required')
                                                          ? 'is-invalid'
                                                          : '' ||
                                                          ((fraisForm.get('isBillable')?.touched ||
                                                          fraisForm.get('isBillable')?.dirty) &&
                                                          !fraisForm.get('isBillable')?.invalid)
                                                          ? 'is-valid'
                                                          : ''
                                                          " />
                                                                <div class="state p-info">
                                                                    <label>Remoursable au client</label>
                                                                </div>
                                                            </div>
                                                            <br>
                                                            <!---->
                                                            <h1>{{ distance }}</h1>
                                                            <div class="form-group col-md-12">
                                                                <label style=" margin-top:2%;">Titre</label>
                                                                <input type="text" class="form-control form-control-sm "
                                                                    id="inputTitre" placeholder="Titre"
                                                                    formControlName="nameOfFrais" [ngClass]=" 
                                                              (fraisForm.get('nameOfFrais')?.touched ||
                                                              fraisForm.get('nameOfFrais')?.dirty) &&
                                                              fraisForm.get('nameOfFrais')?.hasError('required')
                                                              ? 'is-invalid'
                                                              : '' ||
                                                              ((fraisForm.get('nameOfFrais')?.touched ||
                                                              fraisForm.get('nameOfFrais')?.dirty) &&
                                                              !fraisForm.get('nameOfFrais')?.invalid)
                                                              ? 'is-valid'
                                                              : ''
                                                              ">
                                                                <div class="invalid-feedback">L'indication du
                                                                    titre est obligatoire </div>
                                                            </div>
                                                        </div>
                                                        <!-- BEGIN : Depart / Arrivée -->
                                                        <!-- <div class="form-row">
                                                      <!--BEGIN : Départ

                                                      <div class="form-group col-md-6">
                                                          <label style="font-size:14px;">Départ</label>
                                                          <input type="text" class="form-control " id=""
                                                              placeholder="De">
                                                      </div>
                                                      <!-- END : Départ -->
                                                        <!-- BEGIN : Arrivée 
                                                      <div class="form-group col-md-6">
                                                          <label style="font-size:14px;">Arrivée</label>
                                                          <input type="text" class="form-control" id=""
                                                              placeholder="À">
                                                      </div>
                                                      <!-- END : Arrivée 
                                                  </div>
                                                  -->
                                                        <!-- END : Depart / Arrivée -->
                                                        <!-- BEGIN : Trajet -->
                                                        <div class="form-row" style=" margin-top:-3%;">
                                                            <div class="form-group col-md-12">
                                                                <label>Type du frais</label>

                                                                <input type="text" class="form-control form-control-sm  "
                                                                    formControlName="typeOfFrais" [ngClass]=" 
                                                                  (fraisForm.get('typeOfFrais')?.touched ||
                                                                  fraisForm.get('typeOfFrais')?.dirty) &&
                                                                  fraisForm.get('typeOfFrais')?.hasError('required')
                                                                  ? 'is-invalid'
                                                                  : '' ||
                                                                  ((fraisForm.get('typeOfFrais')?.touched ||
                                                                  fraisForm.get('typeOfFrais')?.dirty) &&
                                                                  !fraisForm.get('typeOfFrais')?.invalid)
                                                                  ? 'is-valid'
                                                                  : ''
                                                                  ">

                                                                <div class="invalid-feedback">L'indication du
                                                                    type est obligatoire </div>
                                                            </div>
                                                        </div>

                                                        <div class="form-row" style=" margin-top:-3%;">
                                                            <div class="form-group col-md-12">
                                                                <label>Tarification hors montant</label>
                                                                <div class="input-group">
                                                                    <input type="number"
                                                                        class="form-control form-control-sm "
                                                                        placeholder="3.750 DT" min="1"
                                                                        formControlName="calcUnitOfFrais" [ngClass]=" 
                                                                  (fraisForm.get('calcUnitOfFrais')?.touched ||
                                                                  fraisForm.get('calcUnitOfFrais')?.dirty) &&
                                                                  fraisForm.get('calcUnitOfFrais')?.hasError('required')
                                                                  ? 'is-invalid'
                                                                  : '' ||
                                                                  ((fraisForm.get('calcUnitOfFrais')?.touched ||
                                                                  fraisForm.get('calcUnitOfFrais')?.dirty) &&
                                                                  !fraisForm.get('calcUnitOfFrais')?.invalid)
                                                                  ? 'is-valid'
                                                                  : ''
                                                                  ">
                                                                    <div class="invalid-feedback">L'indication d'unité
                                                                        de calcul est obligatoire </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <!--END : Tarif -->

                                                        <!-- ************************************  -->

                                                        <!--BEGIN : Valeur a rembourser -->
                                                        <div class="form-row" style=" margin-top:-3%;">
                                                            <div class="form-group col-md-6" style="margin-top:2%;">
                                                                <!--<div class="badge badge-warning"
                                                          style="position: absolute; right: 20px;">Verfié</div>
                                                          <br>-->
                                                                <label>Quantité</label>
                                                                <div class="input-group">
                                                                    <input type="text" class="form-control"
                                                                        type="number" formControlName="quantityOfFrais"
                                                                        [ngClass]=" 
                                                              (fraisForm.get('quantityOfFrais')?.touched ||
                                                              fraisForm.get('quantityOfFrais')?.dirty) &&
                                                              fraisForm.get('quantityOfFrais')?.hasError('required')
                                                              ? 'is-invalid'
                                                              : '' ||
                                                              ((fraisForm.get('quantityOfFrais')?.touched ||
                                                              fraisForm.get('quantityOfFrais')?.dirty) &&
                                                              !fraisForm.get('quantityOfFrais')?.invalid)
                                                              ? 'is-valid'
                                                              : ''
                                                              ">

                                                                    <div class="invalid-feedback">L'indication du
                                                                        quantité est obligatoire </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group col-md-6" style="margin-top:2%;">
                                                                <label>Prix unitaire</label>
                                                                <div class="input-group">
                                                                    <input class="form-control " type="number"
                                                                        id="inputGroupSelect"
                                                                        formControlName="unitPriceOfFrais" [ngClass]=" 
                                                                  (fraisForm.get('unitPriceOfFrais')?.touched ||
                                                                  fraisForm.get('unitPriceOfFrais')?.dirty) &&
                                                                  fraisForm.get('unitPriceOfFrais')?.hasError('required')
                                                                  ? 'is-invalid'
                                                                  : '' ||
                                                                  ((fraisForm.get('unitPriceOfFrais')?.touched ||
                                                                  fraisForm.get('unitPriceOfFrais')?.dirty) &&
                                                                  !fraisForm.get('unitPriceOfFrais')?.invalid)
                                                                  ? 'is-valid'
                                                                  : ''
                                                                  ">
                                                                    <div class="input-group-prepend">
                                                                        <div class="input-group-text">
                                                                            DT
                                                                        </div>
                                                                    </div>
                                                                    <div class="invalid-feedback">L'indication du
                                                                        prix unitaire est obligatoire </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!--END : Valeur a rembourser-->
                                                        <!--BEGIN : Date-->
                                                        <div class="form-row" style=" margin-top:-3%;">
                                                            <div class="form-group col-md-12">
                                                                <label>Période</label>
                                                                <div class="input-group ">
                                                                    <input type="date"
                                                                        class="form-control form-control-sm"
                                                                        formControlName="dateOfFrais"
                                                                        max="{{today | date:'yyyy-MM-dd'}}" [ngClass]=" 
                                                                  (fraisForm.get('dateOfFrais')?.touched ||
                                                                  fraisForm.get('dateOfFrais')?.dirty) &&
                                                                  fraisForm.get('dateOfFrais')?.hasError('required')
                                                                  ? 'is-invalid'
                                                                  : '' ||
                                                                  ((fraisForm.get('dateOfFrais')?.touched ||
                                                                  fraisForm.get('dateOfFrais')?.dirty) &&
                                                                  !fraisForm.get('dateOfFrais')?.invalid)
                                                                  ? 'is-valid'
                                                                  : ''
                                                                  ">
                                                                    <div class="invalid-feedback">L'indication du
                                                                        date est obligatoire </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!--END : Date -->
                                                        <!--Moyen de paiement
                                                          <div class="form-group"  style="margin-bottom: -1%;">
                                                              <label style="margin-top:20px;">  Sélectionnez l'état du note
                                                              </label>
                                                              <select class="custom-select form-control-sm" formControlName="etatDepense" 
                                                              [ngClass]="
                                                              (myFormDepense.get('etatDepense').touched ||
                                                              myFormDepense.get('etatDepense').dirty) &&
                                                              myFormDepense.get('etatDepense').hasError('required')
                                                              ? 'is-invalid'
                                                              : '' ||
                                                                  ((myFormDepense.get('etatDepense').touched ||
                                                                  myFormDepense.get('etatDepense').dirty) &&
                                                                  !myFormDepense.get('etatDepense').invalid)
                                                              ? 'is-valid'
                                                              : ''
                                                              ">
                                                                  <option selected value="0">Zero</option>
                                                                  <option value="1">One</option>
                                                                  <option value="2">Two</option>
                                                                  <option value="3">Three</option>
                                                              </select>
                                                              <div class="invalid-feedback">État de depense est
                                                                  obligatoire
                                                              </div>
                                                          </div>
                                                          -->
                                                        <!--BEGIN : Note frais-->
                                                        <div class="form-row" style=" margin-top:-3%;">
                                                            <div class="form-group col-md-12">
                                                                <label> Catégorie de frais </label>
                                                                <select class="custom-select form-control-sm"
                                                                    formControlName="categoryOfFrais" [ngClass]=" 
                                                          (fraisForm.get('categoryOfFrais')?.touched ||
                                                          fraisForm.get('categoryOfFrais')?.dirty) &&
                                                          fraisForm.get('categoryOfFrais')?.hasError('required')
                                                          ? 'is-invalid'
                                                          : '' ||
                                                          ((fraisForm.get('categoryOfFrais')?.touched ||
                                                          fraisForm.get('categoryOfFrais')?.dirty) &&
                                                          !fraisForm.get('categoryOfFrais')?.invalid)
                                                          ? 'is-valid'
                                                          : ''
                                                          ">
                                                                    <option *ngFor="let cat of categories"
                                                                        [value]="cat">{{cat}}</option>
                                                                </select>

                                                                <div class="invalid-feedback"> Catégorie du frais est
                                                                    obligatoire </div>
                                                            </div>
                                                        </div>
                                                        <!-- END : Note frais -->

                                                        <!--BEGIN : Commenataire-->
                                                        <div class="form-row"
                                                            style=" margin-top:-3%;margin-bottom:-5%;">
                                                            <div class="form-group col-md-12">
                                                                <label>Description </label>
                                                                <textarea class="form-control form-control-sm"
                                                                    placeholder="Description"
                                                                    formControlName=" descOfFrais" [ngClass]=" 
                                                          (fraisForm.get('descOfFrais')?.touched ||
                                                          fraisForm.get('descOfFrais')?.dirty) &&
                                                          fraisForm.get('descOfFrais')?.hasError('required')
                                                          ? 'is-invalid'
                                                          : '' ||
                                                          ((fraisForm.get('descOfFrais')?.touched ||
                                                          fraisForm.get('descOfFrais')?.dirty) &&
                                                          !fraisForm.get('descOfFrais')?.invalid)
                                                          ? 'is-valid'
                                                          : ''
                                                          "></textarea>
                                                            </div>
                                                            <div class="invalid-feedback"> Description du frais est
                                                                obligatoire </div>
                                                        </div>
                                                        <!--END : Commenataire-->
                                                    </div>
                                                </div>
                                            </div>
                                            <!--END : First Card -->
                                            <!--BEGIN : Second Card -->
                                            <div class="col-12 col-md-6 col-lg-6">
                                                <div class="card shadow-none border-0" id="card2"
                                                    style="height:100%;margin-left:-8%;margin-bottom:-10%;">
                                                    <div class="card-body" style="margin-top:0%;">
                                                        <div class="form-row" style=" margin-top:2%;margin-bottom:-5%;">
                                                            <div class="form-group">
                                                                <label> Selectionner un reçu </label>
                                                                <!--<label><h6 style="font-size:14px;"> Selectionner un reçu </h6></label>-->
                                                                <input type="file" class="form-control"
                                                                    (change)="onSelectFile($event)"
                                                                    value="src/assets/img/noFile.png"
                                                                    formControlName="fichierDepense" />
                                                            </div>
                                                            <div class="form-group">
    
                                                                <img [src]="urlFile" alt="" srcset="" height="300"
                                                                    width="300" value="src/assets/img/noFile.png">
    
                                                                <!--<div class="ExternalFiles">
                                                            <iframe [src]="urlFile" value="" height="300" width="300"></iframe>
                                                            </div>-->
                                                            </div>
                                                        </div>                                                     
                                                    </div>
                                                </div>

                                                <div style="max-height: 100%; "></div>

                                            </div>
                                            <!--END : Second Card -->
                                            <!--BEGIN : Third Card 
                                      <div class="col-4 col-md-6 col-lg-4">
                                          <div class="card shadow-none border-0" id="card3"
                                              style="margin-right:5px;">

                                              <div class="card-body" style="margin-top:0%;">
                                                  
                                              </div>
                                          </div>
                                      </div>
                                      END : Third Card -->
                                            <!--<div id="div2" >
                                      <Pays
                                      <label></label>
                                      <select id="inputPays" class="form-control form-control-sm">
                                          <option selected hidden > -- Sélectionnez le pays -- </option>
                                          <option>Option 1</option>
                                          <option>Option 2</option>
                                          <option>Option 3</option>
                                      </select>
                                      Note frais
                                      <label></label>
                                      <div class="input-group">
                                          <input type="text" class="form-control" placeholder="Note de frais" aria-label="">
                                          <div class="input-group-append">
                                          <button class="btn btn-light" type="submit"><i class="fa-solid fa-circle-plus" style="color:#7C83FD;"></i></button>
                                          </div>
                                      </div>
                                  </div>
                                  <div id="div3" >ITEM 3</div>
                                  <!-->
                                        </div>
                                        <!--////////////////////////////////////////////////////////////-->
                                        <!--<div class="modal-footer" >
                                      <button type="button" class="btn btn-light"
                                          (click)="modal.close('Close click')">Close</button>
                                      <button type="button" class="btn btn-info"
                                          (click)="modal.close('Close click')">Sauvegarder</button>
                                  </div>-->
                                        <div class="modal-footer d-flex justify-content-center">
                                            <button type="button" class="btn btn-light" style="
                                                border: none;
                                                border-radius: 8px;
                                                font-size: 12px;
                                                width: 100px;
                                                height: 30px;
                                                color: rgb(109, 109, 109);
                                            " (click)="modal.close('Close click')">
                                                <i class="fa fa-times"></i>&nbsp;&nbsp; Annuler
                                            </button>
                                            <button type="submit" class="btn btn-primary" style="
                                                border: none;
                                                border-radius: 8px;
                                                background-color: #2a73e8;
                                                width: 200px;
                                                height: 30px;
                                                font-size: 12px;" (click)="modal.close('Close click')
                                                " [disabled]="fraisForm.invalid">
                                                <i class="fas fa-solid fa-paper-plane"></i>&nbsp;&nbsp;
                                                Enregistrer et Suivant
                                            </button>
                                        </div>
                                    </form>
                                </ng-template>


                                <!--|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||-->
                                <!--  displayedColumns: string[] = ["nameClient", "taxRegisterClient", "phoneSupervisor","countryClient","socialReasonClient","activitySectorClient","mailClient","actions"];-->
                                <div class="container">
                                    <table mat-table [dataSource]="dataSource" style="margin-top:5%;width:100%" matSort>

                                        <!--- Note that these columns can be defined in any order.
                                            The actual rendered columns are set as a property on the row definition" -->

                                        <!-- Position Column 
                                            <ng-container matColumnDef="Id">
                                                <th mat-header-cell *matHeaderCellDef> No. </th>
                                                <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                                            </ng-container> -->

                                        <!-- Name Column -->
                                        <ng-container matColumnDef="nameOfFrais">
                                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Nom du frais
                                            </th>
                                            <td mat-cell *matCellDef="let element"> {{element.nameOfFrais}} </td>
                                        </ng-container>

                                        <!-- Weight Column -->
                                        <ng-container matColumnDef="typeOfFrais">
                                            <th mat-header-cell mat-sort-header *matHeaderCellDef>Type du frais
                                            </th>
                                            <td mat-cell *matCellDef="let element"> {{element.typeOfFrais}} </td>
                                        </ng-container>

                                        <!-- Symbol Column -->
                                        <ng-container matColumnDef="descOfFrais">
                                            <th mat-header-cell mat-sort-header *matHeaderCellDef>Description</th>
                                            <td mat-cell *matCellDef="let element"> {{element.descOfFrais}} </td>
                                        </ng-container>

                                        <!-- Symbol Column -->
                                        <ng-container matColumnDef="calcUnitOfFrais">
                                            <th mat-header-cell mat-sort-header *matHeaderCellDef>Calcul Unitaire</th>
                                            <td mat-cell *matCellDef="let element"> {{element.calcUnitOfFrais}}
                                            </td>
                                        </ng-container>

                                        <!-- Symbol Column -->
                                        <ng-container matColumnDef="categoryOfFrais">
                                            <th mat-header-cell mat-sort-header *matHeaderCellDef> Catégorie </th>
                                            <td mat-cell *matCellDef="let element"> {{element.categoryOfFrais}}
                                            </td>
                                        </ng-container>
                                        <!-- Symbol Column -->
                                        <ng-container matColumnDef="actions">
                                            <th mat-header-cell mat-sort-header *matHeaderCellDef>Actions</th>
                                            <td mat-cell *matCellDef="let element">
                                                <button type="button" class="btn btn-outline-info btn-sm"
                                                    (click)="deleteFrais(element._id)"><i
                                                        class="fa-solid fa-trash-can"></i>
                                                </button>
                                                &nbsp;&nbsp;
                                                <button type="button" class="btn btn-outline-info btn-sm "
                                                    (click)="openSmEdit(content,element)"><i
                                                        class="fa-solid fa-pen-to-square"></i>
                                                </button>
                                            </td>
                                        </ng-container>



                                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                                            [ngClass]="{'highlight': row.isSeen }"></tr>
                                    </table>
                                    <mat-paginator #paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 20]"
                                        showFirstLastButtons aria-label="Select page of periodic elements">
                                    </mat-paginator>
                                    <!--|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</body>