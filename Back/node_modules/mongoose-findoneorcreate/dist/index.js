"use strict";
/* FIND ONE OR CREATE */
function findOneOrCreate(schema) {
    schema.statics.findOneOrCreate = function findOneOrCreate(find, create) {
        var model = this;
        return new Promise(function (resolve, reject) {
            model.findOne(find, function (err, result) {
                if (err)
                    return reject(err);
                if (result)
                    return resolve(result);
                model.create(create, function (err, result) {
                    if (err)
                        return reject(err);
                    resolve(result);
                });
            });
        });
    };
}
/* EXPORT */
module.exports = findOneOrCreate;
module.exports.default = findOneOrCreate;
Object.defineProperty(module.exports, "__esModule", { value: true });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLHdCQUF3Qjs7QUFFeEIsU0FBUyxlQUFlLENBQUcsTUFBTTtJQUUvQixNQUFNLENBQUMsT0FBTyxDQUFDLGVBQWUsR0FBRyxTQUFTLGVBQWUsQ0FBRyxJQUFJLEVBQUUsTUFBTTtRQUV0RSxJQUFNLEtBQUssR0FBRyxJQUFJLENBQUM7UUFFbkIsT0FBTyxJQUFJLE9BQU8sQ0FBRyxVQUFFLE9BQU8sRUFBRSxNQUFNO1lBRXBDLEtBQUssQ0FBQyxPQUFPLENBQUcsSUFBSSxFQUFFLFVBQUUsR0FBRyxFQUFFLE1BQU07Z0JBRWpDLElBQUssR0FBRztvQkFBRyxPQUFPLE1BQU0sQ0FBRyxHQUFHLENBQUUsQ0FBQztnQkFDakMsSUFBSyxNQUFNO29CQUFHLE9BQU8sT0FBTyxDQUFHLE1BQU0sQ0FBRSxDQUFDO2dCQUV4QyxLQUFLLENBQUMsTUFBTSxDQUFHLE1BQU0sRUFBRSxVQUFFLEdBQUcsRUFBRSxNQUFNO29CQUVsQyxJQUFLLEdBQUc7d0JBQUcsT0FBTyxNQUFNLENBQUcsR0FBRyxDQUFFLENBQUM7b0JBRWpDLE9BQU8sQ0FBRyxNQUFNLENBQUUsQ0FBQztnQkFFckIsQ0FBQyxDQUFDLENBQUM7WUFFTCxDQUFDLENBQUMsQ0FBQztRQUVMLENBQUMsQ0FBQyxDQUFDO0lBRUwsQ0FBQyxDQUFBO0FBRUgsQ0FBQztBQUVELFlBQVk7QUFFWixrQkFBZSxlQUFlLENBQUMifQ==